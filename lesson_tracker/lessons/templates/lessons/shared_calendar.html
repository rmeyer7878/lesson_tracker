<!-- lessons/templates/lessons/shared_calendar.html -->
{% extends 'lessons/base.html' %}
{% load static %}

{% block content %}
<h2>Shared Lesson Calendar</h2>

<!-- Include FullCalendar CSS and JS -->
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.6/main.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.6/main.min.js"></script>

<div id="calendar"></div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const calendarEl = document.getElementById('calendar');
        const calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'timeGridWeek',
            events: '/api/lessons/',  // Fetch recurring lesson events from API
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,timeGridDay'
            },
            slotMinTime: '08:00:00',  // Adjust to your schedule (earliest lesson time)
            slotMaxTime: '22:00:00',  // Adjust to your schedule (latest lesson time)
        });
        calendar.render();
    });
</script>
{% endblock %}
