<!-- lessons/templates/lessons/profile.html -->
{% extends 'lessons/base.html' %}

{% block content %}
<h2>Your Profile</h2>

<h3>Your Lesson Credits</h3>
{% if credits %}
    <table>
        <thead>
            <tr>
                <th>Lesson Type</th>
                <th>Credits Available</th>
            </tr>
        </thead>
        <tbody>
            {% for credit in credits %}
                <tr>
                    <td>{{ credit.lesson_type.name }}</td>
                    <td>{{ credit.credits }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>You have no available lesson credits.</p>
{% endif %}

<h3>Your Scheduled Lesson</h3>
{% if scheduled_lesson  %}
    {% if scheduled_lesson.is_cancelled %}
        <p>
            <strong>The following lesson has been cancelled:</strong><br>
            <strong>Lesson Type:</strong> {{ scheduled_lesson.lesson_type.name }}<br>
            <strong>Date:</strong> {{ scheduled_lesson.scheduled_time }}<br>
        </p>
    {% else %}
        <p>
            <strong>Lesson Type:</strong> {{ scheduled_lesson.lesson_type.name }}<br>
            <strong>Date:</strong> {{ scheduled_lesson.scheduled_time }}<br>
        </p>
    {% endif %}

{% else %}
    <p>You do not have a lesson scheduled.</p>
{% endif %}
{% endblock %}
